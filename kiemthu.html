<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá th·ªëng qu·∫£n l√Ω sinh vi√™n</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .form-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .form-section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 600;
            font-size: 0.95em;
        }

        input,
        select,
        textarea {
            width: 100%;
            padding: 10px;
            border: 1.5px solid #ddd;
            border-radius: 5px;
            font-size: 0.95em;
            transition: border-color 0.3s;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 5px rgba(102, 126, 234, 0.3);
        }

        input[type="number"] {
            padding: 10px;
        }

        textarea {
            resize: vertical;
            min-height: 60px;
        }

        .form-group.full {
            grid-column: 1 / -1;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }

        button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-submit {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-reset {
            background: #f0f0f0;
            color: #333;
        }

        .btn-reset:hover {
            background: #e0e0e0;
        }

        .list-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            grid-column: 1 / -1;
        }

        .list-section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .table-wrapper {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }

        tr:hover {
            background: #f9f9f9;
        }

        .btn-delete {
            background: #ff4757;
            color: white;
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85em;
        }

        .btn-delete:hover {
            background: #ff3838;
        }

        .empty-message {
            text-align: center;
            color: #999;
            padding: 30px;
            font-style: italic;
        }

        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            display: none;
        }

        .alert.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            display: block;
        }

        .alert.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            display: block;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-card .number {
            font-size: 2.5em;
            color: #667eea;
            font-weight: bold;
        }

        .stat-card .label {
            color: #666;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö H·ªá th·ªëng qu·∫£n l√Ω sinh vi√™n</h1>

        </div>

        <div class="main-content">
            <div class="form-section">
                <h2>‚ûï Th√™m sinh vi√™n</h2>
                <div class="alert" id="alert"></div>
                <form id="studentForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="maSV">M√£ SV *</label>
                            <input type="text" id="maSV" name="maSV" required placeholder="V√≠ d·ª•: SV001">
                        </div>
                        <div class="form-group">
                            <label for="tenSV">T√™n SV *</label>
                            <input type="text" id="tenSV" name="tenSV" required placeholder="T√™n sinh vi√™n">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email *</label>
                            <input type="email" id="email" name="email" required placeholder="email@example.com">
                        </div>
                        <div class="form-group">
                            <label for="sdt">SƒêT *</label>
                            <input type="number" id="sdt" name="sdt" required placeholder="0123456789" min="0">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="ngaySinh">Ng√†y sinh *</label>
                            <input type="date" id="ngaySinh" name="ngaySinh" required>
                        </div>
                        <div class="form-group">
                            <label for="gioiTinh">Gi·ªõi t√≠nh *</label>
                            <select id="gioiTinh" name="gioiTinh" required>
                                <option value="">-- Ch·ªçn gi·ªõi t√≠nh --</option>
                                <option value="Nam">Nam</option>
                                <option value="N·ªØ">N·ªØ</option>
                                <option value="Kh√°c">Kh√°c</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="cccd">S·ªë CCCD *</label>
                            <input type="number" id="cccd" name="cccd" required placeholder="V√≠ d·ª•: 123456789012" min="0">
                        </div>
                        <div class="form-group">
                            <label for="lop">L·ªõp *</label>
                            <input type="text" id="lop" name="lop" required placeholder="V√≠ d·ª•: 10A1">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="diemTB">ƒêi·ªÉm TB c·∫£ nƒÉm *</label>
                            <input type="number" id="diemTB" name="diemTB" required min="0" max="10" step="0.1" placeholder="0.0 - 10.0">
                        </div>
                    </div>

                    <div class="form-group full">
                        <label for="diaChi">ƒê·ªãa ch·ªâ</label>
                        <textarea id="diaChi" name="diaChi" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ sinh vi√™n"></textarea>
                    </div>

                    <div class="button-group">
                        <button type="submit" class="btn-submit">‚úì Th√™m sinh vi√™n</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="list-section">
            <h2>üìã Danh s√°ch sinh vi√™n</h2>
            <div class="table-wrapper">
                <table id="studentTable">
                    <thead>
                        <tr>
                            <th>M√£ SV</th>
                            <th>T√™n SV</th>
                            <th>Email</th>
                            <th>SƒêT</th>
                            <th>Ng√†y sinh</th>
                            <th>Gi·ªõi t√≠nh</th>
                            <th>L·ªõp</th>
                            <th>ƒêi·ªÉm TB</th>
                            <th>H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody id="studentList">
                        <tr>
                            <td colspan="9" class="empty-message">Kh√¥ng c√≥ sinh vi√™n n√†o. H√£y th√™m sinh vi√™n m·ªõi!</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        const form = document.getElementById('studentForm');
        const studentList = document.getElementById('studentList');
        const studentTable = document.getElementById('studentTable');
        const alertDiv = document.getElementById('alert');

        let students = JSON.parse(localStorage.getItem('students')) || [];

        // Hi·ªÉn th·ªã danh s√°ch sinh vi√™n khi trang t·∫£i
        displayStudents();

        // X·ª≠ l√Ω submit form
        form.addEventListener('submit', function (e) {
            e.preventDefault();

            const maSV = document.getElementById('maSV').value;
            const tenSV = document.getElementById('tenSV').value;
            const sdt = document.getElementById('sdt').value;
            const ngaySinh = document.getElementById('ngaySinh').value;
            const gioiTinh = document.getElementById('gioiTinh').value;
            const cccd = document.getElementById('cccd').value;

            // Ki·ªÉm tra ƒë·ªãnh d·∫°ng m√£ SV (SV + 3 ch·ªØ s·ªë)
            const maSVRegex = /^SV\d{3}$/;
            if (!maSVRegex.test(maSV)) {
                showAlert('L·ªói: M√£ SV ph·∫£i c√≥ ƒë·ªãnh d·∫°ng SV + 3 ch·ªØ s·ªë (v√≠ d·ª•: SV001, SV123)', 'error');
                return;
            }

            // Ki·ªÉm tra t√™n SV ch·ªâ ch·ª©a ch·ªØ v√† kho·∫£ng tr·∫Øng
            const tenSVRegex = /^[a-zA-Z√Ä-·ªø\s]+$/;
            if (!tenSVRegex.test(tenSV)) {
                showAlert('L·ªói: T√™n sinh vi√™n ch·ªâ ƒë∆∞·ª£c ph√©p ch·ª©a ch·ªØ c√°i (kh√¥ng ƒë∆∞·ª£c nh·∫≠p s·ªë ho·∫∑c k√Ω t·ª± ƒë·∫∑c bi·ªát)', 'error');
                return;
            }

            // Ki·ªÉm tra ng√†y sinh h·ª£p l·ªá
            if (!ngaySinh) {
                showAlert('L·ªói: Vui l√≤ng ch·ªçn ng√†y sinh', 'error');
                return;
            }

            const dateParts = ngaySinh.split('-');
            const year = parseInt(dateParts[0]);
            const month = parseInt(dateParts[1]);
            const day = parseInt(dateParts[2]);
            
            const checkDate = new Date(year, month - 1, day);
            if (checkDate.getFullYear() !== year || checkDate.getMonth() !== month - 1 || checkDate.getDate() !== day) {
                showAlert('L·ªói: Ng√†y sinh kh√¥ng t·ªìn t·∫°i (v√≠ d·ª•: 30/2 kh√¥ng h·ª£p l·ªá)', 'error');
                return;
            }

            // Ki·ªÉm tra gi·ªõi t√≠nh b·∫Øt bu·ªôc
            if (!gioiTinh) {
                showAlert('L·ªói: Vui l√≤ng ch·ªçn gi·ªõi t√≠nh', 'error');
                return;
            }

            const student = {
                id: Date.now(),
                maSV: maSV,
                tenSV: tenSV,
                email: document.getElementById('email').value,
                sdt: sdt,
                ngaySinh: ngaySinh,
                gioiTinh: gioiTinh,
                cccd: cccd,
                lop: document.getElementById('lop').value,
                diemTB: document.getElementById('diemTB').value,
                diaChi: document.getElementById('diaChi').value
            };

            // Ki·ªÉm tra m√£ SV kh√¥ng tr√πng
            if (students.some(s => s.maSV === student.maSV)) {
                showAlert('M√£ SV ƒë√£ t·ªìn t·∫°i!', 'error');
                return;
            }

            students.push(student);
            localStorage.setItem('students', JSON.stringify(students));
            displayStudents();
            form.reset();
            showAlert('Th√™m sinh vi√™n th√†nh c√¥ng!', 'success');
        });

        function displayStudents() {
            if (students.length === 0) {
                studentList.innerHTML = '<tr><td colspan="9" class="empty-message">Kh√¥ng c√≥ sinh vi√™n n√†o. H√£y th√™m sinh vi√™n m·ªõi!</td></tr>';
                return;
            }

            studentList.innerHTML = students.map(student => `
                <tr>
                    <td>${student.maSV}</td>
                    <td>${student.tenSV}</td>
                    <td>${student.email}</td>
                    <td>${student.sdt}</td>
                    <td>${formatDate(student.ngaySinh)}</td>
                    <td>${student.gioiTinh}</td>
                    <td>${student.lop}</td>
                    <td>${student.diemTB}</td>
                    <td>
                        <button class="btn-delete" onclick="deleteStudent(${student.id})">X√≥a</button>
                    </td>
                </tr>
            `).join('');
        }

        function deleteStudent(id) {
            if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a sinh vi√™n n√†y?')) {
                students = students.filter(s => s.id !== id);
                localStorage.setItem('students', JSON.stringify(students));
                displayStudents();
                showAlert('X√≥a sinh vi√™n th√†nh c√¥ng!', 'success');
            }
        }

        function showAlert(message, type) {
            alertDiv.textContent = message;
            alertDiv.className = `alert ${type}`;
            setTimeout(() => {
                alertDiv.className = 'alert';
            }, 3000);
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('vi-VN');
        }
    </script>
</body>
</html>
